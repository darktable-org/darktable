<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
               "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
		<!ENTITY % darktable_dtd SYSTEM "../../dtd/darktable.dtd">
		%darktable_dtd;
		]>
<sect2 status="final" id="image_grouping">

  <title>Image grouping</title>

  <indexterm>
    <primary>group images</primary>
  </indexterm>

  <para>
    Grouping images helps improve structure and clarity of your image collection when displayed
    in lighttable view.
  </para>

  <para>
    You can combine images into a group by selecting them, and clicking the <quote>group</quote>
    button in the <emphasis>selected image(s)</emphasis> panel
    (<xref linkend="selected_images"/>), or by typing <emphasis>ctrl-g</emphasis>. Likewise, you
    can remove selected images from a group by clicking the <quote>ungroup</quote> button, or
    typing <emphasis>shift-ctrl-g</emphasis>. Images generated by duplicating an existing one,
    are automatically grouped. If you import images from the file system or camera, images with
    the same base name, but different extensions (eg. IMG_1234.CR2 and IMG_1234.JPG), will form
    a group.
  </para>

  <para>
    <informaltable frame="none">
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colwidth="6*"/>
        <colspec colwidth="4*"/>
        <tbody>
          <row>
            <entry>
              <para>
                Images which are members of a group are labeled with a <quote>G</quote> symbol
                in their thumbnails.
              </para>
            </entry>
            <entry>
              <graphic fileref="lighttable/concepts/images/grouping_1.png" scalefit="1" width="80%" align="center" />
            </entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
  </para>

  <para>
    The group button
    <inlinegraphic  fileref="images/lighttable_icon_group.png" scalefit="1" width="2%"/>
    in the top panel of the lightroom view toggles grouping mode on and off. If grouping is off,
    each image is displayed as an individual thumb. If grouping is on, images of a group are
    collapsed, which means they are represented by one thumbnail. The image you see is called
    the group head. If you press <quote>G</quote> symbol in the thumbnail of a group, only this
    group gets expanded; if another group was expanded at that time, it gets collapsed. To
    collapse an expanded group again, just click on the <quote>G</quote> symbol of its group
    head.
  </para>

  <para>
    <informaltable frame="none">
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colwidth="6*"/>
        <colspec colwidth="4*"/>
        <tbody>
          <row>
            <entry>
              <para>
                An expanded group in the filemanager mode of lighttable view is indicated by an
                orange frame which appears as soon as your mouse pointer hovers over one of the
                images.
              </para>
            </entry>
            <entry>
              <graphic fileref="lighttable/concepts/images/grouping_2.png" scalefit="1" width="80%" align="center" />
            </entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
  </para>

  <para>
    You can define which image constitutes the group head, while in an expanded view of a group,
    clicking on the <quote>G</quote> symbol of the desired image.
  </para>

  <para>
    If you are in collapsed view, and enter darkroom mode with an image group (eg. by
    double-clicking on the thumbnail), only the group head will be opened.
  </para>

  <para>
    Image groups are a convenient way to protect an existing history stack against unintentional
    changes. Suppose you have just finalized an image; all you need to do now is generate a
    duplicate, make sure grouping is switched on, and the group collapsed. Whenever you open the
    image group again in darkroom, only the group head will be altered. The underlying duplicate
    remains unchanged. Please note that duplicating images only means that a second copy of your
    history stack, and a second small XMP file, is generated. There still is only one RAW file,
    so you don't waste a lot of disk space.
  </para>

</sect2>
