We're proud to announce the new feature release of darktable, 4.6.1!

The github release is here: [https://github.com/darktable-org/darktable/releases/tag/release-4.6.1](https://github.com/darktable-org/darktable/releases/tag/release-4.6.1).

As always, please don't use the autogenerated tarball provided by
github, but only our tar.xz file. The checksums are:

```
$ sha256sum darktable-4.6.1.tar.xz
??? darktable-4.6.1.tar.xz
$ sha256sum darktable-4.6.1-x86_64.dmg
??? darktable-4.6.1-x86_64.dmg
$ sha256sum darktable-4.6.1-arm64.dmg
??? darktable-4.6.1-arm64.dmg
$ sha256sum darktable-4.6.1-win64.exe
??? darktable-4.6.1.exe
```

When updating from the stable 4.4 series, please bear in
mind that your edits will be preserved during this process, but the new
library and configuration will no longer be usable with 4.4.

You are strongly advised to take a backup first.

#### Important note: to make sure that darktable can keep on supporting the raw file format for your camera, *please* read [this post](https://discuss.pixls.us/t/raw-samples-wanted/5420?u=lebedevri) on how/what raw samples you can contribute to ensure that we have the *full* raw sample set for your camera under CC0 license!

Since darktable 4.4:

- 1648 commits to darktable+rawspeed
- 553 pull requests handled
- 49 issues closed


_Please note that the darktable documentation is not currently complete for release 4.6
and contributions are greatly appreciated. Please see the
[project documentation](https://github.com/darktable-org/dtdocs#contributing)
for more information on how to contribute._

## The Big Ones

- n/a

## Performance Improvements

- n/a

## Other Changes

- Pictures discovery from the import dialog is now done
  asynchronously. This means that a long parsing (due to recursive
  mode used in a directory having a huge number of directories and
  files) can be interrupted by just selecting another place, directory
  or un-checking the recursive mode.

## Bug Fixes

- Fixed issue with the import dialog in recursive mode. Using this
  mode without having selected a directory would freeze darktable due
  to parsing the whole disk. After a long time it would recover though.

- When using the recursive mode in the import dialog, the thumbs for
  pictures discovered in sub-directories are now properly displayed.

- Fix memory and resource leaks in the QOI image loader.

- Fixed RGBE image loader.

- Fixes possible issue with guides not displayed in Perspective
  Correction module.

- Fix non persistent zoom level in culling mode when switching images.

- Fix crashes related to details mask if running on low OpenCL or
  system memory.

- Fix wrong first snapshot rendering after creating a second snapshot.

- Keep selected styles in the style dialog after editing them.

- Fix collection selection for ISO, aperture and aspect ratio to work
  in all locale (independent of the locale decimal separator).

- Fix RAW CA correction module which could crash due to rounding issue
  while computing an internal buffer size. This would cause a buffer
  overflow and possibly crash darktable.

- Include LibRaw fix for artifacts when decoding high ISO Canon CR3s.

## Lua

### API Version

- API version is now 9.2.0

### Bug Fixes

- Fixed `scripts_installer` to handle user names with spaces on Windows.

### Add action support for Lua


### Other Lua changes

- n/a

## Notes

- When exporting to AVIF, EXR, JPEG XL, or XCF, selecting specific
  metadata (e.g. geo-tag or creator) is not currently possible. For
  AVIF, EXR, JPEG XL, and XCF formats, darktable will not include any
  metadata fields unless the user selects all of the checkboxes in the
  export module's preference options.

- In order to support the correct display of numbers in darktable, the
  minimum supported Gtk version has had to be increased to
  3.24.15. For people who need to build darktable with an older
  version, this can be achieved by removing line 241 of the
  `darktable.css` file on your system. See
  https://github.com/darktable-org/darktable/issues/13166.

- Starting with release 4.4 a new support policy regarding macOS
  versions has been put in place â€“ darktable releases will now only
  support those macOS versions that are also supported by Apple.
  Release 4.6 therefore drops support for macOS versions older than
  12.5.

## Changed Dependencies

### Mandatory

- n/a

### Optional

- Bump libavif to 0.9.2

## RawSpeed changes


## Camera support, compared to 4.4

### Base Support

- Canon EOS Kiss F
- Canon EOS Kiss X50
- Canon EOS Kiss X90
- Canon IXY 220F (dng, chdk)
- Canon PowerShot SX220 HS (chdk)
- Fujifilm FinePix SL1000
- Fujifilm X-S20 (compressed)
- ImBack ImB35mm (chdk)
- Leica M10-D (dng)
- Leica M10-P (dng)
- Leica M10-R (dng)
- Leica M11-P (dng)
- Leica Q2 Monochrom (dng)
- Leica SL2 (dng)
- Leica SL2-S (dng)
- Nikon Coolpix A1000 (12bit-uncompressed)
- Nikon Z f (14bit-compressed)
- OM System TG-7
- Panasonic DC-TZ200D (3:2)
- Panasonic DC-TZ202D (3:2)
- Panasonic DC-TZ220 (3:2)
- Panasonic DC-TZ220D (3:2)
- Panasonic DC-ZS200D (3:2)
- Panasonic DC-ZS220 (3:2)
- Panasonic DC-ZS220D (3:2)
- Panasonic DMC-G10 (3:2, 16:9, 1:1)
- Panasonic DMC-GM1S (4:3, 3:2, 16:9, 1:1)
- Pentax K-3 Mark III Monochrome
- Pentax KF
- Samsung EK-GN120
- Samsung G920F (dng)
- Samsung G935F (dng)
- Samsung GX10 (dng)
- Samsung GX20 (dng)
- Sigma fp (dng)
- Sigma fp L (dng)
- Sigma sd Quattro (dng)
- Sigma sd Quattro H (dng)
- Sinar eVolution 75
- Sony ILCE-6700
- Sony ILCE-7CM2
- Sony ILCE-7CR
- Sony ILME-FX3
- Sony ZV-E1

### White Balance Presets

- Leica M (Typ 240)
- Olympus E-P7
- Olympus TG-6
- Sony ILCE-7CM2

### Noise Profiles

- Canon IXY 220F
- Nikon Z f
- Olympus E-P7
- Pentax *ist DS
- Sony ILCE-6700

### Missing Compression Mode Support

- Apple ProRAW DNGs
- CinemaDNG lossless (Blackmagic, DJI, etc.)
- Fujifilm lossy RAFs
- Nikon high efficiency NEFs
- Samsung Expert RAW DNGs
- Sony downsized lossless ARWs ("M" for full-frame, "S" for full-frame & APS-C)

### Suspended Support

Support for the following cameras is suspended because no samples
are available on raw.pixls.us:

- Creo/Leaf Aptus 22(LF3779)/Hasselblad H1
- Fujifilm FinePix S9600fd
- Fujifilm IS-1
- GoPro FUSION
- Kodak EasyShare Z980
- Leaf Aptus-II 5(LI300059)/Mamiya 645 AFD
- Leaf Credo 60
- Leaf Credo 80
- Minolta DiMAGE 5
- Olympus SP320
- Panasonic DMC-FX150
- Pentax Q10
- Phase One IQ250
- Sinar Hy6/ Sinarback eXact
- ST Micro STV680

## Translations

- Albanian
- Brazilian Portuguese
- Chinese (Simplified)
- Chinese (Traditional)
- Czech
- Dutch
- European Spanish
- Finnish
- French
- German
- Hungarian
- Italian
- Japanese
- Polish
- Russian
- Slovenian
- Turkish
- Ukrainian
