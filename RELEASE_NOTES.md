we're proud to announce the first release candidate for the upcoming 3.0 series of darktable, 3.0.0rc0!

the github release is here: [https://github.com/darktable-org/darktable/releases/tag/release-3.0.0](https://github.com/darktable-org/darktable/releases/tag/release-3.0.0).

as always, please don't use the autogenerated tarball provided by
github, but only our tar.xz. the checksums are:

```
$ sha256sum darktable-3.0.0rc0.tar.xz
??? darktable-3.0.0rc0.tar.xz
$ sha256sum darktable-3.0.0rc0.dmg
??? darktable-3.0.0rc0.dmg
$ sha256sum darktable-3.0.0rc0.exe
??? darktable-3.0.0rc0.exe
```

when updating from the currently stable 2.6.x series, please bear in
mind that your edits will be preserved during this process, but it
will not be possible to downgrade from 3.0 to 2.6.x any more.

#### Important note: to make sure that darktable can keep on supporting the raw file format for your camera, *please* read [this post](https://discuss.pixls.us/t/raw-samples-wanted/5420?u=lebedevri) on how/what raw samples you can contribute to ensure that we have the *full* raw sample set for your camera under CC0 license!

- Almost 3 thousand commits to darktable+rawspeed since 2.6
- 553 pull requests handled
- 66 issues closed
- Updated user manual is coming soon™

## The Big Ones

- A full rework of the GUI Gtk/CSS. The whole GUI is now fully
  controlled by CSS rules. There is no more size, color, position in
  Gtk C code. This makes the whole GUI themable. This version comes
  with different theme:

     - darktable                : the default theme

     - darktable-elegant-darker : more condensed fonts
                                  best experience if Roboto font installed

     - darktable-icons-darker   : as elegant, with IOP icons
                                  best experience if Roboto font installed

     - darktable-elegant-dark   : lighter version
     - darktable-elegant-grey   : even lighter version

     - darktable-icons-dark     : lighter version
     - darktable-icons-grey     : even lighter version

  Note that this requires Gtk 3.22 or higher to work properly.

- The color picker on the blend, tone curve, color zones and fill
  light modules now allows to select an area by <kbd>Ctrl+click</kbd> on it.

- Add undo/redo support in lighttable for tags, color labels, rating,
  metadata, deleted history stack, pasted history stack and applied
  style.

  IMPORTANT:
  As <kbd>Ctrl-z</kbd> is commonly used for undo/redo this is what is used
  on the lighttable. This conflicts with the previous <kbd>Ctrl-z</kbd> which
  was assigned to preview with focus point. The preview (previously <kbd>z</kbd>)
  and preview with focus detection (previously <kbd>Ctrl-z</kbd>) are now assigned
  respectively to <kbd>w</kbd> and <kbd>Ctrl-w</kbd>.

- A new timeline view has been introduced in the lighttable.

- A new lighttable mode 'culling' is added. It displays a fixed number
  of consecutive images, starting from the first selected image and
  allows to pan & zoom them.  It can be navigated with the mouse wheel
  and keyboard and the number of displayed images can be set with an
  entry at the bottom.

- A quite extensive rewrite of the lighttable has been made to improve
  drastically the overall performance. This also includes the
  filmstrip which has also received a big rewrite for the same reasons. The
  lighttable is now usable on 4K and 5K monitors.

- Add new raster mask supports. This is a copy of a parametric mask
  which is stable during the whole pixel-pipe.

- Modules can now be re-ordered with <kbd>Ctrl+Shift+drag</kbd>.

  IMPORTANT PLEASE READ:

  Note that this is NOT a GUI re-ordering but a pixel-pipe
  reordering. If you're not familiar with pixel pipe order and the
  actual quality that could result from changing the default, do not
  change the order.

  The default order has been set to give the best result in the
  majority of time and will never be on the wrong side.

- The color zones module now display an histogram based on the ‘select
  by’ channel and displays the selected range if the color picker is
  in area mode.
  It acts now like the tone curve (but horizontal),
  it has two edit modes: edit by area is the former one, if not checked nodes
  can be edited like in the tone curve, delete only works by right-click
  when not in edit area mode.
  A new process mode has been added: smooth is the former one, strong is new.
  An interpolation method has been added that allows to select different types
  of curves.
  The color picker allows to select by area with <kbd>Ctrl+click</kbd>.
  A new color picker has been added that creates a curve based on the area
  selected from the image.
  When pressing the shortcut 'pan&zoom while editing masks' the draw area
  can now be zoomed. Double-click on the bottom bar resets the zoom.

- New module Filmic RBG. This module is designed to replace the base
  curve, shadows and highlights. The new filmic rgb module replaces
  the old one introduced in 2.6.2 and should be easier to use and will
  reduce color casts. The old filmic module is now deprecated and
  cannot be used on new developments.

- New module tone equalizer which brings an easy and safe way to
  adjust the tones in different areas of the image. The module comes
  with 9 controls ranging from blacks area to specular ones. It
  possible to adjust each area with slides, curve or directly over the
  image with a controllable picker.

## New Features And Changes

- A new module for handling 3D Lut transformations (PNG Hald-CLUT and
  Cube files are supported).

- Many changes to denoise profiled. The variance stabilization transform
  has changed, allowing a finer control of denoising. In particular,
  it is possible to better denoise the shadows, and correct color casts
  that may occur in the shadows. This change mainly improves the denoising
  of high ISO images.
  The non-local means mode has 2 new options: an option to scatter
  the search zone, and an option to control the amount of details to keep.
  In addition, one "auto" mode was added both for wavelets and non-local
  means. This mode infers some parameters from the profile used.
  The default values of the sliders are also changed dynamically in the same
  way. As such, user who want a one click denoising can activate the module
  and get straight away a good trade-off between noise smoothing and detail
  preservation.
  The auto modes allow the user to create their own presets that will
  adapt to various ISOs.
  Finally denoise profiled controls now have soft boundaries, which means
  that users can enter values out of visible bounds using the keyboard if
  they need to.

- A new profile ‘histogram profile’ has been added on the same pop-up
  that the softproof one on the darkroom. It controls the color space
  of the histogram, color picker and overexposed check. When gamut or
  softproof checks are active the histogram and color picker use the
  softproof profile, otherwise they use the histogram profile. The
  overexposed check always use the histogram profile.

- A new profile 'work profile' has been added to the input color profile
  module. Now RGB modules between the input and output color profile modules
  will work with this profile.

- A new color picker has been added to the blend module next to the
  existing one that adjusts the range sliders based on the selected
  area from the image. Click to adjust the input image slider,
  <kbd>Ctrl+click</kbd> to adjust the out image one.

- The picasa module has been renamed to googlephoto and completely
  rewrote to support the new Google Photo API. It is now again
  possible to create albums directly from the export module.

- New module image information which can be positioned at the bottom
  or the top of the darkroom. The information displayed can be changed
  via the preferences. This module can replace the image information
  displayed on the histogram.

- The tagging module is faster than before and has got new features.
  The most visible one is the ability to display hierarchical tags in a
  tree view. New commands (context menu) have been added to help to maintain
  your tags dictionary.
  It introduces also the notions of private tags (not exported by default),
  synonyms (to help search engines) and categories (not exported,
  can be used as an helper to structure your tags without polluting them and/or
  to define metadata fitting with your needs).
  In line with these new features, exported metadata are now configured
  in export selected module.
  The main metadata types can be set as exported or not,
  but you can also define one by one specific metadata, you fill in with
  available dt information, in particular tags and categories (metadata
  formulas share the same set of variables than file name in the same module).

- Many code optimizations for CPU and SSE paths.

- A new preference to expand/collapse a darkroom module when it is
  activated/deactivated.

- The collect module supports single click if the corresponding new
  option is activated.

- The collect module supports range selection (for numeric/dates)
  when using single click mode.

- The gradient mask orientation is now clearly displayed by using an
  arrow.

- Add support for theme, and allow to dynamically load theme from the
  preferences.

- The graduatednd module has better accuracy when computing the
  rotation to avoid the gradient to flip sporadically.

- Make sure the OpenCL kernel code are recompiled when the driver
  version is updated.

- Add color pickers in the split toning module.

- Add color pickers in the graduatednd module.

- Add color picker to the watermark module.

- The color picker point positions are kept during the editing on the
  module.

- The map view will zoom on the images of the selected collection.

- The slideshow supports changing the delay between each images.

- The slideshow will now start at the selected pictures if any.

- The slideshow will now be more responsive when changing the picture
  backward and forward.

- A new module 'basic adjustments' has been added. It allows to adjust
  the exposure, highlight compression, contrast, brightness and saturation.
  It also has an auto feature based on Rawtherapee's auto levels that can
  work on the entire image or a user selected area.
  Both the contrast and the auto feature use the middle grey point, the
  default for this setting is based on the work profile.

- A new module 'rgb curve' has been added. It has linked and
  independent RGB channels.
  It works with the rgb color space selected on the work profile.
  The curves and histogram can be displayed using the work profile or
  can be scaled to be 50% grey.
  The color picker allows to select by area with <kbd>Ctrl+click</kbd>.
  The second color picker add 4 nodes to the curve based on the area
  selected from the image: min, average, middle, max.
  When pressing the shortcut 'pan&zoom while editing masks' the draw area
  can be zoomed.
  Different types of curves can be selected.

- A new module 'rgb levels' has been added. It has linked and
  independent channels, preserve colors option and is native RGB.

- A search text has been added to the module groups in the
  darkroom. It has a configuration option to show only the modules
  groups, only the search text or both.  Modules are searched by name
  (localized).

  If displaying only the search text, the active pipe modules are
  displayed when the search text is empty.  A darkroom shortcut can be
  set to focus on the search box.

- A preview window has been added to the darkroom that displays the edited image
  on a separate window.

- A new option 'skip' is added to the 'on conflict' setting on the export module
  that skips the export if the file already exists.

- Allow to change algorithm clone/heal and blur/color in retouch module.

- An accels window has been added to summarize all available shortcuts and mouse
  actions available in the current context.

- Dynamic shortcuts have been added for darkroom module sliders. They allow to
  change slider values with an accel + mouse scroll.

- Add zoom & pan feature to lighttable full preview..

## Bug fixes

- The color picker support has been fixed by a complete rewrite. It
  should now gives correct values in all cases.

- Fix overexposed display.

- Do not disable SSL for storage modules.

- A long standing bug on mask distort in Liquify module has been
  fixed. This was visible when a liquify mask was used together with
  the perspective correction module activated.

- A bug on mask distort from crop & rotate when using flip and
  some angle has been fixed.

- Fix manual crop in perspective correction module when not in default
  orientation.

- The modification of date/time is now stored into the XMP. This
  ensure that removing the picture and reloading will keep the change
  made.

- Fix orientation to support all cases as exposed in these examples:
  https://github.com/recurser/exif-orientation-examples

- Store the panel states for each lighttable mode.

- Fix crop&rotate and orientation in the lightroom importer.

## Lua

- The displayed image in darkroom view can now be changed

- GUI panel visibility can now be queried and changed

- Lighttable view toolbox (rating filter, rating comparator, sort
  field, and sort direction) can now be changed

- Lighttable layout and zoom level can now be changed

- All images containing a specific tag can be searched and returned

## Changed Dependencies

- CMake 3.10 is now required
- OpenMP 4.0 is now required (optional dependency)

## RawSpeed changes

### Changed Dependencies

- CMake 3.10 is now required
- Pugixml 1.8 is now required
- OpenMP 4.0 is now required (optional dependency)
- POSIX threads are no longer required
- zlib 1.2.11 is now required (optional dependency)

### Changes

- Threading was migrated to OpenMP from POSIX threads
- Phase One IIQ decompressor fixes (quadrant scaling, bad column)
- Large-scale code cleanup,hardening is ongoing still
- An CMake infrastructure was added to allow integration of RawSpeed into LLVM LNT / Test-Suite
- Widespread performance tuning, most affected decompressors:
  * Sony ARW2
  * Panasonic V5
  * Samsung V1
  * Phase One
- Continuation of collaboration with LLVM Compiler Infrastructure Project

## Camera support, compared to 2.6.0

### Base Support

- Epson R-D1s
- Epson R-D1x
- Fujifilm FinePix F770EXR
- Fujifilm FinePix S7000
- Fujifilm GFX 50R (compressed)
- Fujifilm X-T30 (compressed)
- Fujifilm XF10
- Kodak DCS Pro 14N
- Kodak EasyShare Z981
- Kodak EasyShare Z990
- Leica C (Typ 112) (4:3)
- Leica CL (dng)
- Leica Q (Typ 116) (dng)
- Leica Q2 (dng)
- Leica SL (Typ 601) (dng)
- Leica V-LUX (Typ 114) (3:2, 4:3, 16:9, 1:1)
- Nikon Z 6 (14bit-uncompressed, 12bit-uncompressed)
- Nikon Z 7 (14bit-uncompressed)
- Olympus E-M1X
- Olympus TG-6
- Panasonic DC-G90 (4:3)
- Panasonic DC-G91 (4:3)
- Panasonic DC-G95 (4:3)
- Panasonic DC-G99 (4:3)
- Panasonic DC-ZS200 (3:2)
- Panasonic DMC-TX1 (3:2)
- Phase One P30
- Sony DSC-RX0M2
- Sony DSC-RX100M6
- Sony ILCE-6400
- Sony ILCE-7RM4

### White Balance Presets

- Leica Q2
- Nikon D500
- Nikon Z 7
- Panasonic DC-LX100M2
- Sony ILCE-6400

### Noise Profiles

- Leica Q2
- Nikon D3
- Nikon D3500
- Nikon Z 6
- Nikon Z 7
- Olympus E-PL8
- Olympus E-PL9
- Panasonic DC-LX100M2
- Sony DSC-RX100M5A
- Sony ILCE-6400
- Sony SLT-A35

## Translations

- Afrikaans
- Albanian
- Chinese
- Czech
- Dutch
- Finnish
- French
- Galician
- German
- Hebrew
- Hungarian
- Italian
- Japanese
- Nepal
- Norwegian Bokmål
- Polish
- Portuguese
- Romanian
- Russian
- Slovenian
- Thai
